{% extends "base.html" %}
{% load admin_static %}
{% load url from future %}
{% block page_title %}Quick Start{% endblock %}
{% block extra_head %}
    <link rel="icon" href="{{ STATIC_URL }}images/favicon.ico"/>
    <link rel="stylesheet" type="text/css" href="{% block stylesheet %}{% static "admin/css/base.css" %}{% endblock %}" />
    {% block extrastyle %}{% endblock %}
    <script type="text/javascript">window.__admin_media_prefix__ = "{% filter escapejs %}{% static "admin/" %}{% endfilter %}";</script>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="{{STATIC_URL}}bootstrap/js/bootstrap.min.js" type="text/javascript"></script>

    {% if not MAKAHIKI_USE_LESS %}
        <link rel="stylesheet" href="{{STATIC_URL}}css/theme-forest.css">
        <link rel="stylesheet" href="{{STATIC_URL}}css/admin.css">
    {% else %}
        <link rel="stylesheet/less" type="text/css" href="{{STATIC_URL}}less/theme-forest.less">
        <link rel="stylesheet/less" type="text/css" href="{{STATIC_URL}}less/admin.less">
        <script src="{{STATIC_URL}}js/less-1.3.0.min.js" type="text/javascript"></script>
    {% endif %}
{% endblock %}
{% block body %}
    <div id="container">
            <!-- Header -->
            <div>
                {% include "components/navbar.html" %}

                {% if user.is_active and user.is_staff %}
                    <div id="user-tools">
                        {% block userlinks %}
                            <a href="{% url 'admin:logout' %}">Log out</a>
                        {% endblock %}
                    </div>
                {% endif %}
                {% block nav-global %}{% endblock %}
            </div>
            <!-- END Header -->
    </div>

    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span12">
                <div class="content-box">
                    <div class="content-box-contents">
                    <h2 class="no-top">Quick Start</h3><br/>
                    DRAFT PAGE<br/>
                    If this is a new installation of Makahiki, you can fill in basic configuration settings here.
                    <ol>
                        <li>This page should only be used once on a production server.</li>
                        <li>Submitting this page will re-initialize the Makahiki database with the settings and other information you specify here.</li> 
                        <li>All data in the database will be lost.</li>
                    </ol>
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span12">
                <div class="content-box">
                    <div class="content-box-contents">
                        Delete default teams, groups, and users other than admin (unimplemented function)
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span12">
                <div class="content-box">
                    <div class="content-box-contents">
                        Challenge setting configuration fields here
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span12">
                <div class="content-box">
                    <div class="content-box-contents">
                        Round settings
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span12">
                <div class="content-box">
                    <div class="content-box-contents">
                        Groups here
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span12">
                <div class="content-box">
                    <div class="content-box-contents">
                        Teams here
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span12">
                <div class="content-box">
                    <div class="content-box-contents">
                        <h3 class="no-top">Upload Users</h3>
                        <hr/>
                        {% block content %}
                            <div>
                                <h4 class="no-top">Upload a CSV file.</h4>
                                <p>
                                    Click the Choose File button to select the CSV file that contains user information.
                                    Each user in the CSV must be formatted as follows:
                                    <pre>team, firstname, lastname, email, username, password</pre>
                                </p>
                                <form enctype="multipart/form-data" method="POST" action="{% url 'bulk_create' %}">
                                    {% csrf_token %}
                                    {% if file_error %}
                                        <div style="color: red">{{file_error}}</div>
                                    {% endif %}
                                    <input id="browser" type="file" name="csvfile" value="CSV File" /></br>
                                    <button id="submit" class="btn" type="submit" style="" >Upload</button>
                                </form>
                        </div>
                        {% endblock %}
                        <hr/>
                    </div>
                </div>
            </div>
        </div>
    </div>
                        <div class="container-fluid">
                            <div class="row-fluid">
                                <!-- left column -->
                                <div class="span7">
                                  {% for template in view_objects.left_templates %}
                                      {% include template %}
                                  {% endfor %}
                                </div>
                                <!-- right column -->
                                <div class="span5">
                                  {% for template in view_objects.right_templates %}
                                      {% include template %}
                                  {% endfor %}
                                </div>
                            </div>
                        </div>
{% endblock %}

