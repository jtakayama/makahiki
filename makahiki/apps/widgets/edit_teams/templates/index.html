<div class="content-box">
    <div class="content-box-title">
        Edit Teams
    </div>
    <div class="content-box-contents">
        Create, edit, and delete the teams.
        <form method="post" action=".">{% csrf_token %}
            <!-- Fields to add teams -->
            <h3 class="no-top">Add Team</h3>
               <span style="font-weight: bold">Create a new team.</span><br/>
                Add team: <input type="text" name="new_team"/>
                <select name="assign_to_group">
                    {% if view_objects.edit_teams.groups %}
                        {% for group_name in view_objects.edit_teams.groups %}
                        <option value="{{ group_name }}">{{ group_name }}</option>
                        {% endfor %}
                    {% else %}
                        <option value="None" disabled>---------</option>
                    {% endif %}
                </select><br/>
                {% if view_objects.edit_teams.new_team_result %}
                    <span style="font-weight: bold">{{ view_objects.edit_teams.new_team_result }}</span> 
                {% endif %}
            <br/>
            <!-- Fields to change team groups -->
            <h3 class="no-top">Change Team Groups</h3>
            <span style="font-weight: bold">Change the group of an existing team.</span><br/>
            Feature is unimplemented.<br/>
            {% if view_objects.edit_teams.teams_and_groups %}
                {% for team in view_objects.edit_teams.teams_and_groups %}
                    <input type="checkbox" name="change_team_group[]" value="{{ team.0 }}">&nbsp;Change team <span style="font-weight: bold">{{ team.0 }}</span> to:&nbsp;</input>
                    <select name="assign_to_group[]">
                    {% if view_objects.edit_teams.groups %}
                        {% for group in view_objects.edit_teams.groups %}
                           {% ifequal group team.1 %}
                               <option value="{{ group_name }}" selected>{{ group }} (Current setting)</option>
                           {% else %}
                               <option value="{{ group_name }}">{{ group }}</option>
                           {% endifequal %}
                        {% endfor %}
                    {% endif %}
                    </select><br/>
                {% endfor %}
            {% endif %}
            <br/>
            <!-- Fields for deleting teams -->
            <h3 class="no-top">Delete Teams</h3>
            <span style="font-weight: bold">WARNING: Deleting teams is not reversible.</span><br/>
            {% if view_objects.edit_teams.teams_and_groups %}
                {% for team in view_objects.edit_teams.teams_and_groups %}
                    <input type="checkbox" name="delete_team[]" value="{{ team.0 }}">&nbsp;Delete team <span style="font-weight: bold">{{ team.0 }}</span> in group {{ team.1 }}</input><br/>
                {% endfor %}
            {% endif %}
            {% if view_objects.edit_teams.teams_deleted %}
                {% for team_status in view_objects.edit_teams.teams_deleted %}
                    <span style="font-weight: bold">{{ team_status }}</span>
                {% endfor %}
            {% endif %}
            <br/>
            <input type="submit" value="Save" />
        </form>
    </div>
</div>